<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="PIPER.Views.PackageManager"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PIPER.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer>
    <Grid>
        <StackPanel Padding="10, 10, 10, 0" >
            <TextBlock Text="Package Management" FontSize="26"/>
            <TextBlock/>
                <TextBlock Text="Selected Environment:" Padding="0, 0, 0, 10"></TextBlock>
                <StackPanel Spacing="8" Orientation="Horizontal">
                    <ComboBox x:Name="comboEnvironments" ItemsSource="{x:Bind PythonEnvironments}" DisplayMemberPath="Item1" SelectedValuePath="Item2"
                        SelectionChanged="comboEnvironment_SelectionChanged"  Width="200" />
                    <Button Content="Generate Requirement File" Click="Generate_Requirements_Button_Click" Style="{StaticResource AccentButtonStyle}"/>
                </StackPanel>
                
                <TextBlock/>

            <Expander IsExpanded="False" ExpandDirection="Down" Header="Single Package Install" Margin="0,10,0,0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                <Grid Width="Auto">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel>
                        <TextBox Header="Install Package:" PlaceholderText="Package Name" IsSpellCheckEnabled="False"/>
                        
                        <TextBlock/>
                        <CheckBox Content="Use Proxy" x:Name="checkbox_SingleInstallUseProxy" IsChecked="True"/>
                        <StackPanel Orientation="Horizontal" Spacing="8" Grid.Row="6" Margin="0,20,0,0">
                            <Button Content="Install" Click="Install_Button_Click" Style="{StaticResource AccentButtonStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Expander>

                <TextBlock/>

                <Expander IsExpanded="False" ExpandDirection="Down" Header="Install Package From Git URL" Margin="0,10,0,0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <Grid Width="Auto">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel>
                            <TextBox Header="Git URL:" PlaceholderText="URL" IsSpellCheckEnabled="False"/>

                            <TextBlock/>
                            <CheckBox Content="Use Proxy" x:Name="checkbox_GitInstallUseProxy" IsChecked="True"/>
                            <StackPanel Orientation="Horizontal" Spacing="8" Grid.Row="6" Margin="0,20,0,0">
                                <Button Content="Install" Click="Git_Install_Button_Click" Style="{StaticResource AccentButtonStyle}"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Expander>


                <TextBlock/>

            <Expander IsExpanded="False" ExpandDirection="Down" Header="Requirements File Package Install" Margin="0,10,0,0" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                <Grid Width="Auto">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0">

                        <StackPanel VerticalAlignment="Top" Orientation="Horizontal">
                            <Button x:Name="PickAFileButton" Content="Select a file" Click="PickAFileButton_Click" Margin="0,0,0,10"/>
                            <TextBlock x:Name="PickAFileOutputTextBlock" TextWrapping="Wrap" Padding="20,5,0,0"/>
                        </StackPanel>
                        <TextBox Header="Selected File:" PlaceholderText="File Path"></TextBox>
                        <TextBlock/>
                        <CheckBox Content="Use Proxy" x:Name="checkbox_RequirementsUseProxy" IsChecked="True"/>
                        <TextBlock/>
                    </StackPanel>
                        
                    <Button Grid.Row="1" Content="Install" Click="Install_All_Requirements_Button_Click" Style="{StaticResource AccentButtonStyle}"/>
                </Grid>
            </Expander>

            <TextBlock/>
            
            <TextBox Header="Output:" AutomationProperties.Name="multi-line TextBox" TextWrapping="Wrap" AcceptsReturn="True" MinWidth="400" />
        </StackPanel>
    </Grid>
    </ScrollViewer>
</Page>
